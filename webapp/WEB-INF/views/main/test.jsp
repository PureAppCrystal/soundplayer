<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>

<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>

</body>
</html>

</title>
<script async
	src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
</head>
<body>
	<div id=fb-root></div>
	<script>
	(function (d, s, id) { 
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) 
			return; 
		js = d.createElement(s); 
		js.id = id; 
		js.src = "//connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v2.10&appId=124288171592222";
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));</script>







	<div id=menu class=menu-container>
		<div class=menu-close>
			<a href=javascript:void(0) class=btn-close onclick=closeNav()><i
				class=im-x-mark></i></a>
		</div>
		<div class=menu-contents>
			<div class=today>
				<div class=subject>
					<span class=subject>오늘의 노래</span>
				</div>
				<ul class=items>
					<li><div class="menu-item kpop" title=K-POP>
							<span class=kpop>K-POP</span>
						</div></li>
					<li><div class="menu-item pop" title=POP>
							<span class=pop>POP</span>
						</div></li>
					<li><div class="menu-item edm" title=EDM>
							<span class=edm>EDM</span>
						</div></li>
					<li><div class="menu-item carol" title=CAROL>
							<span class=carol>CAROL</span>
						</div></li>
				</ul>
			</div>
			<div class=year>
				<div class=subject>
					<span class=subject>연도별 노래</span>
				</div>
				<ul class=items>
					<li>
						<div class="menu-year-item kpop-year">
							<span class=kpop>K-POP</span>
						</div>
						<ul class=sub-items>
							<li class=kpop-2016><div id=kpop-2016
									class="menu-item kpop-2016" title=2016년>
									<span class=kpop>2016</span>
								</div></li>
							<li class=kpop-2015><div id=kpop-2015
									class="menu-item kpop-2015" title=2015년>
									<span class=kpop>2015</span>
								</div></li>
							<li class=kpop-2014><div id=kpop-2014
									class="menu-item kpop-2014" title=2014년>
									<span class=kpop>2014</span>
								</div></li>
							<li class=kpop-2013><div id=kpop-2013
									class="menu-item kpop-2013" title=2013년>
									<span class=kpop>2013</span>
								</div></li>
							<li class=kpop-2012><div id=kpop-2012
									class="menu-item kpop-2012" title=2012년>
									<span class=kpop>2012</span>
								</div></li>
							<li class=kpop-2011><div id=kpop-2011
									class="menu-item kpop-2011" title=2011년>
									<span class=kpop>2011</span>
								</div></li>
							<li class=kpop-2010><div id=kpop-2010
									class="menu-item kpop-2010" title=2010년>
									<span class=kpop>2010</span>
								</div></li>
							<li class=kpop-2009><div id=kpop-2009
									class="menu-item kpop-2009" title=2009년>
									<span class=kpop>2009</span>
								</div></li>
							<li class=kpop-2008><div id=kpop-2008
									class="menu-item kpop-2008" title=2008년>
									<span class=kpop>2008</span>
								</div></li>
							<li class=kpop-2007><div id=kpop-2007
									class="menu-item kpop-2007" title=2007년>
									<span class=kpop>2007</span>
								</div></li>
							<li class=kpop-2006><div id=kpop-2006
									class="menu-item kpop-2006" title=2006년>
									<span class=kpop>2006</span>
								</div></li>
							<li class=kpop-2005><div id=kpop-2005
									class="menu-item kpop-2005" title=2005년>
									<span class=kpop>2005</span>
								</div></li>
							<li class=kpop-2004><div id=kpop-2004
									class="menu-item kpop-2004" title=2004년>
									<span class=kpop>2004</span>
								</div></li>
							<li class=kpop-2003><div id=kpop-2003
									class="menu-item kpop-2003" title=2003년>
									<span class=kpop>2003</span>
								</div></li>
							<li class=kpop-2002><div id=kpop-2002
									class="menu-item kpop-2002" title=2002년>
									<span class=kpop>2002</span>
								</div></li>
							<li class=kpop-2001><div id=kpop-2001
									class="menu-item kpop-2001" title=2001년>
									<span class=kpop>2001</span>
								</div></li>
							<li class=kpop-2000><div id=kpop-2000
									class="menu-item kpop-2000" title=2000년>
									<span class=kpop>2000</span>
								</div></li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div id=MainWrapper>
		<div class=all-block></div>
		<div id=HeadContents>
			<div class=subject>
				<a href=javascript:void(0) onclick=openNav() title=menu class=menu><i
					class=im-menu></i></a> <a href=http://www.soundplayer.co.kr
					/ title="TOP 100 노래 듣기"> <span class=today></span> <span
					class=title>TOP 100 노래 듣기</span>
				</a>
			</div>
		</div>
		<div id=ContentsWrapper>
			<div class=articles>
				<div class=youtube></div>
				<div class=middle-banner>
					<center>
						<ins class=adsbygoogle style="display: block"
							data-ad-client=ca-pub-8990796444196379 data-ad-slot=6699615544
							data-ad-format=auto></ins>
						<script>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   (adsbygoogle = window.adsbygoogle || []).push({});</script>
					</center>
				</div>
				<div class=song-title>
					<span class=title></span>
				</div>
				<div class=controls>
					<span class="button prev" onclick=prevYoutube() title=이전><i
						class=material-icons>skip_previous</i></span> <span class="button play"
						onclick=playYoutube() title=시작><i class=material-icons>play_arrow</i></span>
					<span class="button next" onclick=nextYoutube() title=다음><i
						class=material-icons>skip_next</i></span> <span class="button pause"
						onclick=pauseYoutube() title=멈춤><i class=material-icons>pause</i></span>
					<span class="button stop" onclick=stopYoutube() title=중지><i
						class=material-icons>stop</i></span> <span class="button loop"
						onclick=randomYoutube() title=전체반복재생><i
						class=material-icons>repeat</i></span> <span class="button one-loop"
						onclick=loopYoutube() title=한곡반복재생><i class=material-icons>repeat_one</i></span>
					<span class="button random" onclick=oneLoopYoutube() title=랜덤재생><i
						class=material-icons>shuffle</i></span>
				</div>
				<div id=music_list></div>
				<div class=bottom-banner>
					<center>
						<script async
							src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
						<ins class=adsbygoogle style="display: block"
							data-ad-client=ca-pub-8990796444196379 data-ad-slot=4690553391
							data-ad-format=auto></ins>
						<script>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   (adsbygoogle = window.adsbygoogle || []).push({});</script>
					</center>
				</div>
			</div>
			<div class=left-banner>
				<ins class=adsbygoogle
					style="display: inline-block; width: 160px; height: 600px"
					data-ad-client=ca-pub-8990796444196379 data-ad-slot=1431811141></ins>
				<script>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   (adsbygoogle = window.adsbygoogle || []).push({});</script>
			</div>
			<div class=right-banner>
				<ins class=adsbygoogle
					style="display: inline-block; width: 160px; height: 600px"
					data-ad-client=ca-pub-8990796444196379 data-ad-slot=9366141486></ins>
				<script>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   (adsbygoogle = window.adsbygoogle || []).push({});</script>
			</div>
			<div class=fb-comments data-href=http://www.soundplayer.co.kr
				/ data-width=auto data-order-by=reverse_time data-numposts=5></div>
		</div>
		<div id=FooterContents>
			<div class=footer-wrap>
				<div class=footer-copyright-wrap>
					<div class=footer-copyright-content>
						<h2>하단 정보</h2>
						<div class=footer-contact>
							<h3>문의정보</h3>
							<p class=contact>
								<i class=im-mail></i>soundplayer.corp@gmail.com
							</p>
						</div>
						<div class=footer-info>
							<h3>저작권정보</h3>
							<p class=copyrights>
								Copyright ⓒ 2017 <strong>SoundPlayer</strong>. All Rights
								Reserved.
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class=loading_container>
			<div id=loading_item class=loading_item></div>
		</div>
	</div>
	<script type=text/javascript src=//code.jquery.com/jquery-1.11.1.min.js></script>
	<script type=text/javascript src=/player/js/spin.min.js></script>
	<script type=text/javascript src="/player/js/common.js?ver=3.0"></script>
	<script async
		src="https://www.googletagmanager.com/gtag/js?id=UA-108091710-1"></script>
	<script>
	window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); }


	
	//---------------
	
	var player, 
		playerState, 
		played = !1, 
		m_video_id, 
		m_title, 
		m_no, 
		m_first = !1,
		m_type = "kpop", 
		m_year = "0000", 
		m_random = "1", 
		m_contents = !1, 
		m_key_idx = 0, 
		m_play_list = 0, 
		m_array_key = "AIzaSyB0jlYlka6yZNgTWi3uTbMA3T05UuL3USw AIzaSyBpUxnxdmsruZjv9Akg73Q5-W7VYKP0hhg AIzaSyDIHXNNSFimuwdvIBwmA3YHEAPvNxAlNOE AIzaSyDwFqRYCTHzpwRg4jYGFZVBD445kgv1dX0 AIzaSyCkLsPo6Kv5A6xogWGjEtwV3c-lGAGq57U AIzaSyAbgw38wRyihih_XCZvnAMMUFOEBlEeBaY AIzaSyCZv-aE_GyG2rkWXAaXyYwGuGnxVTUb_Ec AIzaSyDLCw875vrhmSLLOjIcMsD7ayEOHI4c218 AIzaSyCeaeQYedDmjLqTxSIucgiPv48ZS4G9UlQ AIzaSyB100NCYigwuNVuAxgBPLurIV_5Leg1KSw AIzaSyDTkGZg0guxxHVwz_l6RJkW0802iCpquRc AIzaSyBtCzub3-uqoZbNJZmCTiG_bqE6Da2ShcE AIzaSyB9Hu7wdknnRQiWxD-twiuaiwhaYCxzrjs".split(" "),
		c_array = ["kpop", "pop", "edm", "carol"];
	
	if ("" != getCookie("playtype")) {
		var _play_type = getCookie("playtype"); 
		"L" == _play_type ? loopYoutube() : "R" == _play_type ? randomYoutube() : "O" == _play_type && oneLoopYoutube() 
	} 
	else loopYoutube();
	
	$(document).ready(function () {
	    "" != getCookie("playcate") && (m_type = getCookie("playcate")); 
	    "" != getCookie("playyear") && (m_type = "kpop", m_year = getCookie("playyear")); 
	    "0000" == m_year ? ($("div.menu-item").removeClass("selected"), 
	    		$("div." + m_type).addClass("selected"), $("span.today").text("\uc624\ub298\uc758 " + m_type.toUpperCase() + " ")) : ($("div.menu-item").removeClass("selected"), 
	    		$("div." + m_type + "-" + m_year).addClass("selected"), $("ul.sub-items").show(), 
	    		$("span.today").text(m_year + "\ub144 " + m_type.toUpperCase() + " ")); 
	    document.oncontextmenu = function () { 
	    	return !1 
	    }; 
	    
	    $("div." + c_array[0]).click(function () { 
	    	getMusicList(c_array[0]) 
	    }); 
	    
	    $("div." + c_array[1]).click(function () { 
	    	getMusicList(c_array[1]) 
	    }); 
	    
	    $("div." + c_array[2]).click(function () {
	    	getMusicList(c_array[2]) 
	    }); 
	    
	    $("div." + c_array[3]).click(function () {
	    	getMusicList(c_array[3]) 
	    }); 
	    
	    var a = $("ul.sub-items li").filter("li"); 
	    a.each(function (c) {
	        var b = $(a[c]).attr("class"); 
	        $("div." + b).click(function () {
	            var a = b.replace("kpop-", ""); 
	            m_type = "kpop"; 
	            m_year = a; 
	            getYearMusicList(m_type, m_year)
	        })
	    }); 
	    
	    "0000" == m_year ? getMusicList(m_type) : getYearMusicList(m_type, m_year); 
	    var c = document.getElementById("loading_item"); 
	    void 0 != c && null != c && (new Spinner({ 
	    	lines: 13, length: 28, width: 14, radius: 42, scale: 1, corners: 1, color: "#fff", opacity: .25, rotate: 0, direction: 1, speed: 1, trail: 60, fps: 20, zIndex: 2E9, className: "spinner", top: "50%", left: "50%", shadow: !1, hwaccel: !1, position: "absolute" 
	    })).spin(c); 
	    
	    $("#MainWrapper").click(function () { 
	    	0 < $("#menu").width() && closeNav() 
	    }); 
	    
	    $("div.kpop-year").click(function () {
	        "none" == $("ul.sub-items").css("display") ? $("ul.sub-items").slideDown(300) : $("ul.sub-items").slideUp(300)
	    })
	});
	
	function getMusicList(a) {
	    0 < $("#menu").width() && closeNav(); 
	    $("div.loading_container").show();
	    var c = new Date;
	    c = getFirstDayOfWeek(c, !0);
	    m_type = a; m_year = "0000";
	    var d = new Date, b = new Date;
	    d.setTime(d.getTime() + 31536E6);
	    b.setTime(b.getTime() - 1);
	    setCookie("playcate", m_type, d);
	    setCookie("playyear", m_year, b);
	    $("div.menu-item").removeClass("selected");
	    $("div." + a).addClass("selected");
	    $("span.today").text("\uc624\ub298\uc758 " + m_type.toUpperCase() + " ");
	    var k = $("#music_list").empty();
	    $.ajax({
	        type: "GET", 
	        url: a != c_array[0] ? "/player/ajax/" + m_type : "/player/ajax/chart/?type=" + m_type, 
	        success: function (a) {
            var b;
            m_type == c_array[0] ? b = $(a).find("table.trackList tbody tr").filter("tr") : m_type == c_array[1] ? b = $(a).find("article.chart-row").filter("article") : m_type == c_array[2] ? b = $(a).find("ul.top100 li").filter("li") : m_type == c_array[3] && (b = $(a).find("ul.carol li").filter("li")); if (0 == b.length) return k.html("\ucc28\ud2b8 \uace1 \uc815\ubcf4\ub97c \ubc1b\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694."),
            !1; m_play_list = b.length;
            var n = "";
            b.each(function (a) {
                var d = a + 1, f = "", g = "", h = ""; 
                m_type == c_array[0] ? (h = $(b[a]).find("td.check input").attr("title"), 
                		g = $(b[a]).find("td.check input").val(), 
                		f = $(b[a]).find("td.left p.artist a:eq(0)").text()) : m_type == c_array[1] ? (h = $(b[a]).find("h2.chart-row__song").text(), 
                		g = c + "_" + d, f = "" == $(b[a]).find("a.chart-row__artist").text() ? $(b[a]).find("span.chart-row__artist").text() : $(b[a]).find("a.chart-row__artist").text()) : m_type == c_array[2] ? (h = $(b[a]).find("div.track div.title").text(),
                		g = $(b[a]).attr("id"), f = $(b[a]).find("div.track div.artists").text()) : m_type == c_array[3] && (h = $(b[a]).find("span.title").text(), 
                		g = $(b[a]).find("span.no").attr("id"), f = $(b[a]).find("span.artist").text()); 
                g = "" + ('<div class="items item-' + d + '" title="' + f + " - " + h + '" id="' + g + '">') + ('<span class="no" id="' + d + '">' + d + "</span>") + '<span class="track">';
                g += '<span class="artist">'; 
                g += f; 
                g += "</span>"; 
                g += " - "; 
                g += '<span class="song">'; 
                g += h; g += "</span>"; 
                g += "</span>"; 
                g += "</div>"; 
                k.append(g); 
                0 == a && (n = f + " - " + h); 
                $("div.item-" + d).click(function () {
                	showSelectYoutube(
                			$(this).find("span.track").text(), 
                			$(this).find("span.no").attr("id")) 
                	})
            }); showYoutube(n, 1)
        }, error: function () { 
        	k.html("\ucc28\ud2b8 \uace1 \uc815\ubcf4\ub97c \ubc1b\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.") 
        	}
	    })
	}
	function getYearMusicList(a, c) {
	    0 < $("#menu").width() && closeNav(); 
	    $("div.loading_container").show(); 
	    var d = new Date; 
	    d = getFirstDayOfWeek(d, !0); 
	    m_type = a; 
	    var b = new Date, k = new Date; 
	    b.setTime(b.getTime() + 31536E6); 
	    k.setTime(k.getTime() + 31536E6); 
	    setCookie("playcate", m_type, b); 
	    setCookie("playyear", m_year, k); 
	    $("div.menu-item").removeClass("selected"); 
	    $("div." + m_type + "-" + m_year).addClass("selected"); 
	    $("span.today").text(m_year + "\ub144 " + m_type.toUpperCase() + " "); 
	    var l = $("#music_list").empty(); 
	    $.ajax({
	        type: "GET",
	        url: a != c_array[0] ? "/player/ajax/" + m_type + "/year/?year=" + c : "/player/ajax/chart/year/?year=" + c + "&type=" + m_type, success: function (a) {
	            var b; m_type == c_array[0] ? b = $(a).find("table.list tbody tr").filter("tr") : m_type == c_array[1] ? b = $(a).find("article.chart-row").filter("article") : m_type == c_array[2] ? b = $(a).find("ul.top100 li").filter("li") : m_type == c_array[3] && (b = $(a).find("ul.carol li").filter("li")); if (0 == b.length) return l.html("\ucc28\ud2b8 \uace1 \uc815\ubcf4\ub97c \ubc1b\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694."),
	            !1; m_play_list = b.length; var c = ""; b.each(function (a) {
	                var f = a + 1, g = "", h = "", e = ""; m_type == c_array[0] ? (e = $(b[a]).find("td.check input").attr("title"), h = $(b[a]).find("td.check input").val(), g = $(b[a]).find("td.left p.artist a:eq(0)").text()) : m_type == c_array[1] ? (e = $(b[a]).find("h2.chart-row__song").text(), h = d + "_" + f, g = "" == $(b[a]).find("a.chart-row__artist").text() ? $(b[a]).find("span.chart-row__artist").text() : $(b[a]).find("a.chart-row__artist").text()) : m_type == c_array[2] ? (e = $(b[a]).find("div.track div.title").text(),
	                h = $(b[a]).attr("id"), g = $(b[a]).find("div.track div.artists").text()) : m_type == c_array[3] && (e = $(b[a]).find("span.title").text(), h = $(b[a]).find("span.no").attr("id"), g = $(b[a]).find("span.artist").text()); h = "" + ('<div class="items item-' + f + '" title="' + g + " - " + e + '" id="' + h + '">') + ('<span class="no" id="' + f + '">' + f + "</span>") + '<span class="track">'; h += '<span class="artist">'; h += g; h += "</span>"; h += " - "; h += '<span class="song">'; h += e; h += "</span>"; h += "</span>"; h += "</div>"; l.append(h); 0 == a && (c = g + " - " + e); $("div.item-" +
	                f).click(function () { showSelectYoutube($(this).find("span.track").text(), $(this).find("span.no").attr("id")) })
	            }); showYoutube(c, 1)
	        }, error: function () { l.html("\ucc28\ud2b8 \uace1 \uc815\ubcf4\ub97c \ubc1b\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.") }
	    })
	} 
	
	function openYoutube() { $("div.youtube").slideDown(); $("div.open").css("display", "none"); $("div.closed").css("display", "block"); $("div#music_list").css("height", "350px") }
	function loopYoutube() { m_random = "1"; $("div.controls span.random").css("display", "none"); $("div.controls span.one-loop").css("display", "none"); $("div.controls span.loop").css("display", "inline-block"); var a = new Date; a.setTime(a.getTime() + 31536E6); setCookie("playtype", "L", a) }
	function randomYoutube() { m_random = "2"; $("div.controls span.loop").css("display", "none"); $("div.controls span.one-loop").css("display", "none"); $("div.controls span.random").css("display", "inline-block"); var a = new Date; a.setTime(a.getTime() + 31536E6); setCookie("playtype", "R", a) }
	function oneLoopYoutube() { m_random = "3"; $("div.controls span.loop").css("display", "none"); $("div.controls span.random").css("display", "none"); $("div.controls span.one-loop").css("display", "inline-block"); var a = new Date; a.setTime(a.getTime() + 31536E6); setCookie("playtype", "O", a) }
	function showYoutube(a, c) { 
		m_title = a;
		m_no = c;
		var d = $("div.item-" + c).attr("id"); 
		$.ajax({ 
			type: "POST", 
			url: "/player/ajax/data/get/", 
			data: { song_id: d },
			contentType: "application/x-www-form-urlencoded;", 
			dataType: "json", 
			success: function (a) { 
				"00" == a[0].code ? ("Y" == a[0].contents && (m_contents = !0), 
				noSearchYoutube(m_title, m_no, d, a[0].youtube_id)) : searchYoutube(m_title, m_no, d) 
			}, 
			error: function (a) { } 
		}) 
	}
	function noSearchYoutube(a, c, d, b) {
	    m_title = a; m_no = c; $("div.song-title span.title").text(a); if (null == b || "" == b) nextPlayYoutube(); else {
	        m_video_id = b; if (m_first) var k = setInterval(function () { player.cueVideoById && (player.clearVideo(), player.cueVideoById(m_video_id), player.playVideo(), clearInterval(k)) }, 500); else $("div.youtube").empty().append('<div id="player"></div>'), c = document.createElement("script"), c.src = "https://www.youtube.com/iframe_api", b = document.getElementsByTagName("script")[0], b.parentNode.insertBefore(c,
	        b), m_first = !0; var l = $("div.items").length; $("div.items").each(function (a) { $(this).removeClass("selected").children("span.no").text(a + 1).removeClass("selected"); a + 1 == l && $("div.item-" + m_no).addClass("selected").children("span.no").html("&#10148;").addClass("selected") }); $("div.loading_container").hide(); m_contents || setYoutubeID(a, d, m_video_id, "update")
	    }
	}
	function searchYoutube(a, c, d) {
	    m_title = a; 
	    m_no = c; 
	    var b = null, k = 0; 
	    c = /[\uac00-\ud7a3\u3131-\u314e\u314f-\u3163]/g; 
	    var l = m_array_key[m_key_idx], 
	    	m = a; 
	    m_type != c_array[0] && (m = m.replace(c, ""));
	    c = { part: "snippet", key: l, maxResults: 10, q: m }; 
	    $("div.song-title span.title").text(a); 
	    $.ajax({
	        type: "GET",
	        url: "https://www.googleapis.com/youtube/v3/search", 
	        data: c, 
	        success: function (c) {
	            if (null == c.items || 0 == c.items.length) 
	            	nextPlayYoutube(); 
	            else {
	                k = 0; 
	                b = j_resort(c.items, a); 
	                m_video_id = b[k]; 
	                if (m_first)
	                	var e = setInterval(function () {
	                    	player.cueVideoById && (player.clearVideo(), player.cueVideoById(m_video_id), player.playVideo(), clearInterval(e))
	                	}, 500); 
	                else { 
	                	$("div.youtube").empty().append('<div id="player"></div>'); 
	                	c = document.createElement("script"); 
	                	c.src = "https://www.youtube.com/iframe_api"; 
	                	var l = document.getElementsByTagName("script")[0]; 
	                	l.parentNode.insertBefore(c, l);
	                	m_first = !0 
	                } 
	                
	                var f = $("div.items").length; 
	                $("div.items").each(function (a) { 
	                	$(this).removeClass("selected").children("span.no").text(a + 1).removeClass("selected"); 
	                	a + 1 == f && $("div.item-" + m_no).addClass("selected").children("span.no").html("&#10148;").addClass("selected") 
	                });
	                
	                setYoutubeID(a, d, m_video_id, "insert"); 
	                $("div.loading_container").hide()
	            }
	        }, 
	        error: function () { 
	        	m_key_idx = m_array_key + 1; 
	        	m_array_key.length == m_array_key && (m_key_idx = 0, showYoutube(m_title, m_no)) 
	        }
	    })
	} 
	
	function setYoutubeID(a, c, d, b) { 
		$.ajax({ 
			type: "POST", 
			url: "/player/ajax/data/set/", 
			data: { 
				contents: encodeURI(a), 
				song_id: c, 
				youtube_id: d, 
				type: b }, 
				dataType: "json", 
				success: function (a) { }, 
				error: function (a) { } 
		}) 
	}
	function j_resort(a, c) {
	    var d = ["\uc1fc\ucf00\uc774\uc2a4", "\ub77c\uc774\ube0c", "mashup", "\ud32c\ucea0", "ver.", "\uc9c1\ucea0", "\ud398\uc2a4\ud2f0\ubc8c", "\ud398\uc2a4\ud2f0\ubc1c", "\uac00\uc694\uc1fc", "comeback stage", "\ud3b8\uc9d1", "messageto", "sneak peak", "unofficial", "\uc81c\uc791", "cover", "covered", "teaser", "piano tutorial", "tutorial", "acoustic session", "\ubc18\uc751", "reaction", "\uc548\ubb34", "\uc548\ubb34\uc601\uc0c1", "practice", "live", "re:", "making", "\uba54\uc774\ud0b9", "\ub179\uc74c\ud604\uc7a5",
	    "\ub124\uc774\ubc84", "everysing", , "karaoke", "introduction", "kidsnation", "music camp"], 
	    b = "mv;official;hq;music video;musicvideo;audio;color coded lyrics;cover art;album;mini album".split(";"),
	    k = ["mp3", "acoustic", "hvtv", "training", "dance"],
	    l = [];
	    if (0 > a.length) 
	    	return ""; 
	    for (var m = 5, n = $("div.item-" + m_no).find("span.track span.song").text(), e = 0; e < a.length; e++) {
	        a[e].priority = 5 + m;
	        --m;
	        "youtube#searchResult" != a[e].kind && (a[e].priority -= 999);
	        var p = a[e].snippet.title.toLowerCase(); 
	        a[e].snippet.description.toLowerCase();
	        for (var f = 0; f < d.length; f++) 
	        	-1 != p.indexOf(d[f]) && (a[e].priority -= 999); -1 != p.indexOf(n) && (a[e].priority += 10);
	        for (f = 0; f < b.length; f++) 
	        	-1 != p.indexOf(b[f]) && (a[e].priority += 3); 
	        for (f = 0; f < k.length; f++) 
	        	-1 != p.indexOf(k[f]) && (a[e].priority -= 5)
	    } 
	    a.sort(function (a, b) {
	    	return b.priority - a.priority 
	    }); 
	    for (e = 0; e < a.length; e++) 
	    	l.push(a[e].id.videoId); return l
	} 
	function showSelectYoutube(a, c) { player.pauseVideo(); showYoutube(a, c) }
	function nextPlayYoutube() { if ("1" == m_random) { var a = parseInt(m_no) + 1; m_no == m_play_list && (a = 1); var c = $("div.item-" + a).children("span.track").text() } else "2" == m_random ? (a = Math.floor(Math.random() * m_play_list) + 1, a == m_no && (a = Math.floor(Math.random() * m_play_list) + 1)) : a = parseInt(m_no), c = $("div.item-" + a).children("span.track").text(); showYoutube(c, a) }
	function onYouTubeIframeAPIReady() { player = new YT.Player("player", { height: "480", width: "854", videoId: m_video_id, playerVars: { controls: "2" }, events: { onReady: onPlayerReady, onStateChange: onPlayerStateChange } }) } function onPlayerReady(a) { a.target.playVideo() } function onPlayerStateChange(a) { a.data == YT.PlayerState.ENDED && nextPlayYoutube() } function collectPlayCount(a) { a == YT.PlayerState.PLAYING && 0 == played && (played = !0) }
	function nextYoutube() { if ("1" == m_random) { var a = parseInt(m_no) + 1; m_no == m_play_list && (a = 1); var c = $("div.item-" + a).children("span.track").text() } else "2" == m_random ? (a = Math.floor(Math.random() * m_play_list) + 1, a == m_no && (a = Math.floor(Math.random() * m_play_list) + 1)) : a = parseInt(m_no), c = $("div.item-" + a).children("span.track").text(); showYoutube(c, a) }
	function prevYoutube() { if ("1" == m_random) { var a = parseInt(m_no) - 1; m_no == m_play_list && (a = 1); var c = $("div.item-" + a).children("span.track").text() } else "2" == m_random ? (a = Math.floor(Math.random() * m_play_list) + 1, a == m_no && (a = Math.floor(Math.random() * m_play_list) + 1)) : a = parseInt(m_no), c = $("div.item-" + a).children("span.track").text(); showYoutube(c, a) } function playYoutube() { player.playVideo() } function pauseYoutube() { player.pauseVideo() } function stopYoutube() { player.stopVideo() }
	function pad(a, c) { a += ""; return a.length >= c ? a : Array(c - a.length + 1).join("0") + a } function getFirstDayOfWeek(a, c) { a = new Date(+a); c ? a.setDate(a.getDate() - (a.getDay() || 7) + 7) : a.setDate(a.getDate() - a.getDay()); var d = a.getDate(), b = a.getMonth() + 1, k = a.getFullYear(); 10 > d && (d = "0" + d); 10 > b && (b = "0" + b); return k + "" + b + "" + d } function setCookie(a, c, d) { document.cookie = a + "=" + escape(c) + "; path=/; expires=" + d.toGMTString() }
	function getCookie(a) { a += "="; return 0 < document.cookie.length && (offset = document.cookie.indexOf(a), -1 != offset) ? (offset += a.length, end = document.cookie.indexOf(";", offset), -1 == end && (end = document.cookie.length), unescape(document.cookie.substring(offset, end))) : "" }
	function openNav() { $("div.all-block").stop().animate({ marginLeft: "250" }, 300, function () { $("div.all-block").css("display", "block") }); $(".menu-container").stop().animate({ width: "250" }, 300, function () { }); $("#MainWrapper").stop().animate({ marginLeft: "250" }, 300, function () { $("#MainWrapper").css("overflow", "hidden"); $("body").css("overflow-y", "hidden") }); $("#HeadContents").stop().animate({ left: "250" }, 300, function () { }) }
	function closeNav() { $("div.all-block").stop().animate({ marginLeft: "0" }, 200, function () { $("div.all-block").css("display", "none") }); $(".menu-container").stop().animate({ width: "0" }, 200, function () { }); $("#MainWrapper").stop().animate({ marginLeft: "0" }, 200, function () { $("#MainWrapper").css("overflow", "auto"); $("body").css("overflow-y", "auto") }); $("#HeadContents").stop().animate({ left: "0" }, 200, function () { }) }
	function spReplace(a, c, d) { for (; -1 !== a.indexOf(c) ;) from = a.indexOf(c), to = from + c.length, a = a.substr(0, from) + d + a.substr(to, a.length - to); return a };
	